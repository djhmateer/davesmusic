@model List<DavesMusic.Controllers.SongsVM>

<script type="text/javascript" src="../../Scripts/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
    function addTrack(trackId) {
        $.get('@Url.Action("AddTrack")',
            {
                trackId: trackId
            }, function(data) {
                $("#message").html(data);
                // change the button title to remove, so user knows it is added already
                $(":button").css("background-color", "red");
                $("#"+data).css("background-color", "blue");
            }
        //).fail(function() {
        //    alert("error");
        //}
        );
    }
</script>

<h2>Seminal Songs</h2>

<!-- make it so that this passes a null? so can get current users id in the controller-->
@*<a href="/Playlists/Create/davemateer">Make new playlist in my Spotify</a>*@
<p>Great songs of all time!  Add tracks to your playlist.</p>
<table>
    @foreach (var item in Model) {
        <tr>
            <td>@item.TrackName</td>
            <td>@item.ArtistName</td>
            <td><button id="@item.TrackID" onclick="addTrack('@item.TrackID')">Add</button></td>
        </tr>
    }
</table>
<div id="message"></div>

